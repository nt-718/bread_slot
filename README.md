# 🍞 Bread Slot

パン屋をモチーフにしたターミナルスロットゲーム。
コインを使ってスロットを回し、3つ揃えてポイントを稼ごう！

## ゲーム概要

- 複数人で交互にプレイするターン制スロット
- ゲーム開始時にプレイヤー名・好きなもの・苦手なものを設定
- 設定したゲーム数が終了した時点で最もポイントの高いプレイヤーが勝利

### アイテム

🍞 🥖 🥑 🍅 🍎 🍖 🍺 🥚 🍮 🥐 🐵

### ポイント加算

| 条件 | ポイント |
|---|---|
| 3つ揃い | +1 |
| 連続で同じものが揃う | +1 |
| 初めて揃った組み合わせ | +1 |
| フィーバー中に揃う | +1 |
| ラッキーアイテムが揃う | +10 |
| 10の倍数番目に揃う | +5 |
| 好きなものが揃う | +5 |
| 🥚の成長段階に応じて | 毎ターン加算 |

### ポイント減算

| 条件 | ポイント |
|---|---|
| 使用コイン | -コイン数 |
| 🍅が揃う | -3 |
| 🐵が揃う | -10 |
| 10x+2番目に揃う | -5 |
| 苦手なものが揃う | -5 |

### 特殊イベント

| イベント | 効果 |
|---|---|
| 👼 3つ揃い | 次のターン、揃ったペアがすべて好きなものになる |
| 👿 3つ揃い | 現在のポイントが半分になる |
| 🍎 → 🍏 突然変異 | そのターンの加点が0になる |
| ラッキーアイテム | 10個揃うごとに変化 |
| 旬のアイテム | 5試合ごとに変化し、出やすくなる |
| フィーバータイム | ランダムに発生／終了 |
| フリータイム | コインなしでスロットを回せる |
| インフレ | 支払コインが2倍になる |
| 🍅フェスティバル | 揃ったものがすべて🍅になる |
| 👻 幽霊のいたずら | 使用コイン数がランダムになる |

### 🥚の成長

🥚 → 🐣 → 🐥 → 🐔（3ターンごとに成長判定、失敗すると消滅）

### 操作

- コイン数を入力してスロットを回す（1〜5、未入力で1）
- `change` と入力すると好みを変更できる（5コイン消費、そのターンはスロット不可）
- `:q` で終了

## 遊び方

### Docker（推奨）

```sh
docker build -t bread_slot .
docker run -it --rm bread_slot
```

自動モード:

```sh
docker run -it --rm bread_slot auto
```

### ローカル（bash 4.0以上）

```sh
bash main.sh
```

### 別ターミナルで状況を確認

揃ったペアの履歴:

```sh
watch -t -n 1 cat ./db/all_pair_history.txt
```

スコアボード:

```sh
watch -t -n 1 cat ./db/game_info.txt
```
